<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Solar Power System Diagram</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .diagram-container {
            position: relative;
            padding: 40px;
            min-height: 800px;
            background: #f8fafc;
        }
        
        .component {
            position: absolute;
            border-radius: 12px;
            padding: 20px;
            color: white;
            font-weight: 500;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .component:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2);
        }
        
        .solar-panels {
            top: 80px;
            left: 50px;
            width: 280px;
            height: 160px;
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
        }
        
        .dc-isolators {
            top: 120px;
            left: 400px;
            width: 140px;
            height: 140px;
            background: #64748b;
        }
        
        .mppt-controllers {
            top: 80px;
            left: 580px;
            width: 160px;
            height: 180px;
            background: #dc2626;
        }
        
        .battery-system {
            top: 280px;
            left: 580px;
            width: 160px;
            height: 200px;
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
        }
        
        .dc-distribution {
            top: 340px;
            left: 800px;
            width: 140px;
            height: 140px;
            background: #7c3aed;
        }
        
        .inverter {
            top: 260px;
            left: 1000px;
            width: 180px;
            height: 200px;
            background: #ea580c;
        }
        
        .control-system {
            top: 520px;
            left: 580px;
            width: 160px;
            height: 160px;
            background: #0891b2;
        }
        
        .grid-connection {
            top: 120px;
            left: 1220px;
            width: 120px;
            height: 80px;
            background: #475569;
        }
        
        .house-load {
            top: 320px;
            left: 1220px;
            width: 120px;
            height: 100px;
            background: #059669;
        }
        
        .info-icon {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            cursor: help;
        }
        
        .component-title {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .component-details {
            font-size: 10px;
            line-height: 1.3;
            opacity: 0.9;
        }
        
        .price {
            font-size: 9px;
            font-weight: bold;
            color: #fbbf24;
            margin-top: 6px;
        }
        
        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 12px;
            border-radius: 8px;
            font-size: 12px;
            max-width: 300px;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s ease;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
        }
        
        .tooltip.show {
            opacity: 1;
        }
        
        .energy-arrow {
            position: absolute;
            z-index: 10;
        }
        
        .energy-arrow-power {
            stroke: #2563eb;
            stroke-width: 3;
            fill: #2563eb;
            filter: drop-shadow(0 2px 4px rgba(37, 99, 235, 0.3));
        }
        
        .energy-arrow-control {
            stroke: #0891b2;
            stroke-width: 2;
            stroke-dasharray: 5,5;
            fill: #0891b2;
            filter: drop-shadow(0 2px 4px rgba(8, 145, 178, 0.3));
        }
        
        .energy-arrow-power-animated {
            animation: energyFlow 2s ease-in-out infinite;
        }
        
        .energy-arrow-control-animated {
            animation: controlFlow 3s ease-in-out infinite;
        }
        
        @keyframes energyFlow {
            0%, 100% { 
                stroke-opacity: 0.7;
                fill-opacity: 0.7;
            }
            50% { 
                stroke-opacity: 1;
                fill-opacity: 1;
            }
        }
        
        @keyframes controlFlow {
            0%, 100% { 
                stroke-opacity: 0.5;
                fill-opacity: 0.5;
            }
            50% { 
                stroke-opacity: 0.8;
                fill-opacity: 0.8;
            }
        }
        
        .info-boxes {
            display: flex;
            gap: 20px;
            margin-top: 40px;
            flex-wrap: wrap;
        }
        
        .info-box {
            flex: 1;
            min-width: 300px;
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .info-box h3 {
            color: #1e293b;
            font-size: 18px;
            margin-bottom: 15px;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 10px;
        }
        
        .spec-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .spec-label {
            color: #64748b;
        }
        
        .spec-value {
            color: #1e293b;
            font-weight: 600;
        }
        
        .total-cost {
            background: linear-gradient(135deg, #dc2626 0%, #f87171 100%);
            color: white;
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }
        
        .total-cost h4 {
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .total-cost .amount {
            font-size: 24px;
            font-weight: bold;
        }
        
        .supplier-info {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            color: white;
            padding: 20px;
            text-align: center;
            margin-top: 20px;
        }
        
        .supplier-info a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            font-size: 18px;
        }
        
        .supplier-info a:hover {
            text-decoration: underline;
        }
        
        .usage-patterns {
            background: #f1f5f9;
            border-left: 4px solid #0891b2;
            padding: 15px;
            margin-top: 15px;
        }
        
        .usage-patterns h4 {
            color: #0891b2;
            margin-bottom: 10px;
        }
        
        .excess-energy {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .energy-use {
            background: rgba(59, 130, 246, 0.1);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 13px;
            color: #1e40af;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Interactive Solar Power System</h1>
            <p>Complete 13.5kW Off-Grid Solution with 19.2kWh Battery Storage</p>
        </div>
        
        <div class="diagram-container">
            <!-- Solar Panels -->
            <div class="component solar-panels" data-url="https://www.bimblesolar.com/index.php?route=product/product&product_id=3870">
                <div class="info-icon">i</div>
                <div class="component-title">Solar Panel Array</div>
                <div class="component-details">
                    30 × 450W Canadian Solar<br>
                    Total: 13.5kW<br>
                    Mounted on Gram-Box<br>
                    Water Ballast System
                </div>
                <div class="price">£56.67 each | Total: £4,423</div>
            </div>
            
            <!-- DC Isolators -->
            <div class="component dc-isolators" data-url="https://www.bimblesolar.com/index.php?route=product/product&product_id=3668">
                <div class="info-icon">i</div>
                <div class="component-title">DC Isolators</div>
                <div class="component-details">
                    3 × 32A 4-pole<br>
                    + Inline Fuses<br>
                    25A MC4<br>
                    Safety Protection
                </div>
                <div class="price">£20.83 isolators + £20.83 fuses</div>
            </div>
            
            <!-- MPPT Controllers -->
            <div class="component mppt-controllers" data-url="https://www.bimblesolar.com/index.php?route=product/product&product_id=1786">
                <div class="info-icon">i</div>
                <div class="component-title">MPPT Controllers</div>
                <div class="component-details">
                    3 × Victron 250V/85A<br>
                    SmartSolar with VE.Can<br>
                    Maximum Power Point<br>
                    Tracking
                </div>
                <div class="price">£326.47 each | £979</div>
            </div>
            
            <!-- Battery System -->
            <div class="component battery-system" data-url="https://www.bimblesolar.com/index.php?route=product/product&product_id=2717">
                <div class="info-icon">i</div>
                <div class="component-title">Battery Bank</div>
                <div class="component-details">
                    4 × Pylon US5000<br>
                    19.2kWh Total<br>
                    48V LiFePO₄<br>
                    In 18U Data Cabinet<br>
                    with 600A Isolator
                </div>
                <div class="price">£828 each | £3,699 total</div>
            </div>
            
            <!-- DC Distribution -->
            <div class="component dc-distribution" data-url="https://www.bimblesolar.com/index.php?route=product/product&product_id=2029">
                <div class="info-icon">i</div>
                <div class="component-title">DC Distribution</div>
                <div class="component-details">
                    3 × Lynx Power In<br>
                    M8 Connections<br>
                    100A Fuses
                </div>
                <div class="price">£90.44 each | £271</div>
            </div>
            
            <!-- Inverter -->
            <div class="component inverter" data-url="https://www.bimblesolar.com/index.php?route=product/product&product_id=2902">
                <div class="info-icon">i</div>
                <div class="component-title">Hybrid Inverter</div>
                <div class="component-details">
                    Victron MultiPlus-II<br>
                    48V/15kVA/200A<br>
                    12kW Continuous<br>
                    DC → AC Conversion<br>
                    Grid Tie Capability
                </div>
                <div class="price">£1,686 + £350 programming</div>
            </div>
            
            <!-- Control System -->
            <div class="component control-system" data-url="https://www.bimblesolar.com/index.php?route=product/product&product_id=3372">
                <div class="info-icon">i</div>
                <div class="component-title">Control System</div>
                <div class="component-details">
                    Cerbo GX MK2<br>
                    + GX Touch 50<br>
                    System Monitoring<br>
                    VE.Can Communication
                </div>
                <div class="price">£151 + £134 + £8 mount</div>
            </div>
            
            <!-- Grid Connection -->
            <div class="component grid-connection">
                <div class="component-title">Grid Supply</div>
                <div class="component-details">
                    230V AC<br>
                    Mains Power<br>
                    Import/Export
                </div>
            </div>
            
            <!-- House Load -->
            <div class="component house-load">
                <div class="component-title">House Load</div>
                <div class="component-details">
                    230V AC<br>
                    Appliances<br>
                    Lighting<br>
                    Heating etc.
                </div>
            </div>
            
            <!-- Energy Flow Arrows -->
            <!-- Solar to DC Isolators -->
            <svg class="energy-arrow" style="top: 174px; left: 330px; width: 70px; height: 12px;">
                <defs>
                    <marker id="arrowhead-power" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" class="energy-arrow-power"/>
                    </marker>
                </defs>
                <line x1="0" y1="6" x2="60" y2="6" class="energy-arrow-power energy-arrow-power-animated" marker-end="url(#arrowhead-power)"/>
                <text x="30" y="4" text-anchor="middle" font-size="8" fill="#2563eb" font-weight="bold">DC Power</text>
            </svg>
            
            <!-- DC Isolators to MPPT -->
            <svg class="energy-arrow" style="top: 174px; left: 540px; width: 40px; height: 12px;">
                <line x1="0" y1="6" x2="30" y2="6" class="energy-arrow-power energy-arrow-power-animated" marker-end="url(#arrowhead-power)"/>
            </svg>
            
            <!-- MPPT to Battery (vertical) -->
            <svg class="energy-arrow" style="top: 260px; left: 654px; width: 12px; height: 20px;">
                <line x1="6" y1="0" x2="6" y2="15" class="energy-arrow-power energy-arrow-power-animated" marker-end="url(#arrowhead-power)"/>
                <text x="14" y="10" font-size="8" fill="#2563eb" font-weight="bold">48V DC</text>
            </svg>
            
            <!-- Battery to DC Distribution -->
            <svg class="energy-arrow" style="top: 414px; left: 740px; width: 60px; height: 12px;">
                <line x1="0" y1="6" x2="50" y2="6" class="energy-arrow-power energy-arrow-power-animated" marker-end="url(#arrowhead-power)"/>
                <text x="30" y="4" text-anchor="middle" font-size="8" fill="#2563eb" font-weight="bold">DC Dist</text>
            </svg>
            
            <!-- DC Distribution to Inverter -->
            <svg class="energy-arrow" style="top: 394px; left: 940px; width: 60px; height: 12px;">
                <line x1="0" y1="6" x2="50" y2="6" class="energy-arrow-power energy-arrow-power-animated" marker-end="url(#arrowhead-power)"/>
                <text x="30" y="4" text-anchor="middle" font-size="8" fill="#2563eb" font-weight="bold">48V DC</text>
            </svg>
            
            <!-- Inverter to House Load -->
            <svg class="energy-arrow" style="top: 374px; left: 1180px; width: 40px; height: 12px;">
                <line x1="0" y1="6" x2="30" y2="6" class="energy-arrow-power energy-arrow-power-animated" marker-end="url(#arrowhead-power)"/>
                <text x="20" y="4" text-anchor="middle" font-size="8" fill="#2563eb" font-weight="bold">230V AC</text>
            </svg>
            
            <!-- Inverter to Grid (diagonal) -->
            <svg class="energy-arrow" style="top: 180px; left: 1200px; width: 70px; height: 80px;">
                <defs>
                    <marker id="arrowhead-power-diag" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" class="energy-arrow-power"/>
                    </marker>
                </defs>
                <line x1="5" y1="75" x2="45" y2="10" class="energy-arrow-power energy-arrow-power-animated" marker-end="url(#arrowhead-power-diag)"/>
                <text x="35" y="50" font-size="8" fill="#2563eb" font-weight="bold">Grid Tie</text>
            </svg>
            
            <!-- Control System to Battery (vertical control signal) -->
            <svg class="energy-arrow" style="top: 480px; left: 654px; width: 12px; height: 40px;">
                <defs>
                    <marker id="arrowhead-control" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
                        <polygon points="0 0, 8 3, 0 6" class="energy-arrow-control"/>
                    </marker>
                </defs>
                <line x1="6" y1="35" x2="6" y2="5" class="energy-arrow-control energy-arrow-control-animated" marker-end="url(#arrowhead-control)"/>
            </svg>
            
            <!-- Control System to Inverter (horizontal control signal) -->
            <svg class="energy-arrow" style="top: 434px; left: 740px; width: 260px; height: 12px;">
                <line x1="0" y1="6" x2="250" y2="6" class="energy-arrow-control energy-arrow-control-animated" marker-end="url(#arrowhead-control)"/>
                <text x="130" y="4" text-anchor="middle" font-size="8" fill="#0891b2" font-weight="bold">VE.Can Control</text>
            </svg>
        </div>
        
        <div class="info-boxes">
            <div class="info-box">
                <h3>📊 System Specifications</h3>
                <div class="spec-item">
                    <span class="spec-label">Solar Array:</span>
                    <span class="spec-value">13.5kW (30 panels)</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">Battery Storage:</span>
                    <span class="spec-value">19.2kWh @ 48V</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">Inverter Power:</span>
                    <span class="spec-value">12kW / 15kVA</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">Peak Generation:</span>
                    <span class="spec-value">~13.5kW</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">Daily Summer:</span>
                    <span class="spec-value">45-55kWh</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">Daily Winter:</span>
                    <span class="spec-value">15-25kWh</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">Battery Runtime:</span>
                    <span class="spec-value">10-40 days backup</span>
                </div>
                
                <div class="total-cost">
                    <h4>Total System Investment</h4>
                    <div class="amount">£12,198</div>
                </div>
            </div>
            
            <div class="info-box">
                <h3>🔄 Operating Modes</h3>
                <div class="spec-item">
                    <span class="spec-label">☀️ Sunny Days:</span>
                    <span class="spec-value">Solar → House → Battery → Export</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">☁️ Cloudy Days:</span>
                    <span class="spec-value">Solar + Battery + Grid</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">🌙 Night:</span>
                    <span class="spec-value">Battery → House (Grid backup)</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">⚡ Power Cuts:</span>
                    <span class="spec-value">Island Mode (Off-grid)</span>
                </div>
                
                <div class="usage-patterns">
                    <h4>🏠 Your Usage Analysis</h4>
                    <div class="spec-item">
                        <span class="spec-label">Peak Demand:</span>
                        <span class="spec-value">13.3kW (System handles 15kW)</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Daily Usage:</span>
                        <span class="spec-value">0.5-2kWh (Excellent efficiency!)</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Export Potential:</span>
                        <span class="spec-value">15+ kWh daily surplus</span>
                    </div>
                </div>
            </div>
            
            <div class="info-box">
                <h3>💰 Summer Excess Energy Uses</h3>
                <p style="color: #64748b; margin-bottom: 15px;">With 15+ kWh daily surplus potential, here's how to maximize your free solar energy:</p>
                
                <div class="excess-energy">
                    <div class="energy-use">🏠 Heat Pump Hot Water</div>
                    <div class="energy-use">❄️ Air Conditioning</div>
                    <div class="energy-use">🚗 EV Charging</div>
                    <div class="energy-use">🔧 Workshop Equipment</div>
                    <div class="energy-use">🌱 Greenhouse Heating</div>
                    <div class="energy-use">🏊‍♂️ Pool Heating</div>
                    <div class="energy-use">🔋 Crypto Mining</div>
                    <div class="energy-use">💻 Home Server/NAS</div>
                    <div class="energy-use">🌿 Hydroponics System</div>
                    <div class="energy-use">💡 LED Growing Lights</div>
                    <div class="energy-use">⚡ Grid Export Income</div>
                    <div class="energy-use">🚴‍♂️ E-bike Charging</div>
                </div>
                
                <div style="margin-top: 15px; padding: 10px; background: rgba(16, 185, 129, 0.1); border-radius: 6px;">
                    <strong style="color: #059669;">Phased Installation Option:</strong><br>
                    <span style="font-size: 14px; color: #064e3b;">Start with 10 panels (4.5kW + existing 900W = 5.4kW) then expand later in the year</span>
                </div>
            </div>
        </div>
        
        <div class="supplier-info">
            <a href="https://www.bimblesolar.com" target="_blank">🔗 Order from Bimble Solar - Professional Off-Grid Specialists</a>
            <p style="margin-top: 10px; font-size: 14px; opacity: 0.9;">Click any component above to view detailed specifications and pricing</p>
        </div>
        
        <div class="tooltip" id="tooltip"></div>
    </div>
    
    <script>
        // Tooltip data for each component
        const tooltipData = {
            'solar-panels': {
                title: 'Canadian Solar N-type TOPCon Panels',
                content: `
                    <strong>Technical Specs:</strong><br>
                    • 450W per panel (30 panels total)<br>
                    • N-type TOPCon technology<br>
                    • All-black aesthetic design<br>
                    • MCS approved for UK installations<br>
                    • Mounted on Gram-Box water ballast system<br>
                    • No roof penetration required<br><br>
                    <strong>Performance:</strong><br>
                    • Peak output: 13.5kW<br>
                    • Summer generation: 45-55kWh/day<br>
                    • Winter generation: 15-25kWh/day<br><br>
                    <strong>Cost Breakdown:</strong><br>
                    • Panels: £1,700 (30 × £56.67)<br>
                    • Mounting system: £2,723<br>
                    • Installation accessories: £109<br>
                `
            },
            'dc-isolators': {
                title: 'DC Safety & Protection Equipment',
                content: `
                    <strong>Components:</strong><br>
                    • 3× Projoy 32A DC Isolators (4-pole, 2-string)<br>
                    • 3× STÄUBLI MC4-Evo 2 In-line Fuses (25A)<br>
                    • 3× STÄUBLI Branch Connectors<br><br>
                    <strong>Safety Features:</strong><br>
                    • Manual disconnect capability<br>
                    • Overcurrent protection<br>
                    • String-level isolation<br>
                    • Weather-resistant enclosures<br><br>
                    <strong>Installation:</strong><br>
                    • One per MPPT controller<br>
                    • Accessible for maintenance<br>
                    • Complies with G59/3 regulations
                `
            },
            'mppt-controllers': {
                title: 'Victron SmartSolar MPPT Charge Controllers',
                content: `
                    <strong>Specifications:</strong><br>
                    • Model: MPPT 250/85 (3 units)<br>
                    • Max PV voltage: 250V<br>
                    • Max charge current: 85A each<br>
                    • Total charge capacity: 255A<br><br>
                    <strong>Smart Features:</strong><br>
                    • VE.Can communication<br>
                    • Bluetooth monitoring<br>
                    • Advanced MPPT algorithm<br>
                    • Temperature compensation<br>
                    • Programmable charge profiles<br><br>
                    <strong>Efficiency:</strong><br>
                    • Peak efficiency: 98%<br>
                    • Optimal power point tracking<br>
                    • Handles 4.5kW per controller
                `
            },
            'battery-system': {
                title: 'Pylon US5000 LiFePO4 Battery System',
                content: `
                    <strong>Battery Specifications:</strong><br>
                    • 4× Pylon US5000-1C batteries<br>
                    • Capacity: 4.8kWh each (19.2kWh total)<br>
                    • Chemistry: LiFePO4 (safest lithium)<br>
                    • Voltage: 48V nominal<br>
                    • Cycle life: 6000+ cycles @ 80% DOD<br><br>
                    <strong>Safety & Housing:</strong><br>
                    • 18U data cabinet (600×600×902mm)<br>
                    • 600A battery isolator switch<br>
                    • 125A fuse protection<br>
                    • Built-in BMS communication<br><br>
                    <strong>Performance:</strong><br>
                    • 10-40 days backup at your usage<br>
                    • Seamless UPS operation<br>
                    • Temperature compensation
                `
            },
            'dc-distribution': {
                title: 'Victron Lynx Power Distribution',
                content: `
                    <strong>System:</strong><br>
                    • 3× Lynx Power In units<br>
                    • M8 terminal connections<br>
                    • 100A fuse protection per unit<br>
                    • Modular design for expansion<br><br>
                    <strong>Features:</strong><br>
                    • Safe DC distribution<br>
                    • Visual fuse status<br>
                    • High current handling<br>
                    • Victron ecosystem integration<br><br>
                    <strong>Capacity:</strong><br>
                    • Handles full system current<br>
                    • Future expansion ready<br>
                    • Rated for 48V systems
                `
            },
            'inverter': {
                title: 'Victron MultiPlus-II Hybrid Inverter',
                content: `
                    <strong>Power Specifications:</strong><br>
                    • Continuous power: 12kW<br>
                    • Peak power: 15kVA<br>
                    • Charge current: 200A<br>
                    • Handles your 13.3kW peak demand<br><br>
                    <strong>Hybrid Capabilities:</strong><br>
                    • Grid-tie functionality<br>
                    • Battery charging from grid<br>
                    • Export excess solar<br>
                    • Seamless backup switching<br><br>
                    <strong>Smart Features:</strong><br>
                    • VE.Can communication<br>
                    • Remote monitoring<br>
                    • Programmable operation<br>
                    • Professional pre-programming included<br><br>
                    <strong>Safety:</strong><br>
                    • Island protection<br>
                    • Anti-islanding compliance<br>
                    • Overload protection
                `
            },
            'control-system': {
                title: 'Victron GX Control & Monitoring',
                content: `
                    <strong>Components:</strong><br>
                    • Cerbo GX MK2 controller<br>
                    • GX Touch 50 display<br>
                    • Wall mount bracket<br>
                    • VE.Can communication cables<br><br>
                    <strong>Monitoring Features:</strong><br>
                    • Real-time system overview<br>
                    • Energy flow visualization<br>
                    • Historical data logging<br>
                    • Remote access via VRM portal<br>
                    • Smartphone app control<br><br>
                    <strong>System Integration:</strong><br>
                    • Controls all Victron components<br>
                    • Optimizes energy usage<br>
                    • Programmable automations<br>
                    • Firmware updates over internet
                `
            }
        };
        
        // Add click functionality for components with URLs
        document.querySelectorAll('.component[data-url]').forEach(component => {
            component.addEventListener('click', (e) => {
                if (!e.target.classList.contains('info-icon')) {
                    const url = component.getAttribute('data-url');
                    window.open(url, '_blank');
                }
            });
        });
        
        // Tooltip functionality
        const tooltip = document.getElementById('tooltip');
        
        document.querySelectorAll('.info-icon').forEach(icon => {
            icon.addEventListener('mouseenter', (e) => {
                const component = e.target.closest('.component');
                const componentClass = Array.from(component.classList).find(cls => 
                    cls !== 'component' && tooltipData[cls]
                );
                
                if (componentClass && tooltipData[componentClass]) {
                    const data = tooltipData[componentClass];
                    tooltip.innerHTML = `<strong>${data.title}</strong><br><br>${data.content}`;
                    
                    const rect = component.getBoundingClientRect();
                    const containerRect = document.querySelector('.diagram-container').getBoundingClientRect();
                    
                    tooltip.style.left = (rect.right - containerRect.left + 10) + 'px';
                    tooltip.style.top = (rect.top - containerRect.top) + 'px';
                    tooltip.classList.add('show');
                }
            });
            
            icon.addEventListener('mouseleave', () => {
                tooltip.classList.remove('show');
            });
        });
        
        // Hide tooltip when clicking elsewhere
        document.addEventListener('click', (e) => {
            if (!e.target.classList.contains('info-icon')) {
                tooltip.classList.remove('show');
            }
        });
        
        // Prevent tooltip from showing when clicking components
        document.querySelectorAll('.component').forEach(component => {
            component.addEventListener('click', (e) => {
                if (e.target.classList.contains('info-icon')) {
                    e.stopPropagation();
                }
            });
        });
        
        // Add smooth scrolling and highlight effect for better UX
        document.querySelectorAll('.component').forEach(component => {
            component.addEventListener('mouseenter', () => {
                component.style.transform = 'translateY(-3px) scale(1.02)';
            });
            
            component.addEventListener('mouseleave', () => {
                component.style.transform = 'translateY(0) scale(1)';
            });
        });
        
        // SVG arrows are now handled by CSS animations
        
        // Add additional CSS for enhanced interactivity
        const style = document.createElement('style');
        style.textContent = `
            
            .component {
                cursor: pointer;
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }
            
            .component[data-url]:hover {
                cursor: pointer;
                box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            }
            
            .info-icon:hover {
                background: rgba(255, 255, 255, 0.3);
                transform: scale(1.1);
            }
            
            @media (max-width: 768px) {
                .diagram-container {
                    padding: 20px;
                    overflow-x: auto;
                }
                
                .component {
                    font-size: 12px;
                }
                
                .info-boxes {
                    flex-direction: column;
                }
                
                .header h1 {
                    font-size: 2rem;
                }
            }
            
            .energy-flow-label {
                position: absolute;
                font-size: 10px;
                color: #2563eb;
                font-weight: bold;
                pointer-events: none;
            }
        `;
        document.head.appendChild(style);
        
        // Energy flow labels are now integrated into the SVG arrows
    </script>
</body>
</html>